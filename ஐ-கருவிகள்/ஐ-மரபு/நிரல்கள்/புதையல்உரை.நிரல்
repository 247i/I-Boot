; ------------ புதையல் உரை --------------
Function புதையல்உரை
${If} $Casper != "0"
${AndIf} $DistroName != "Windows to Go (Virtual Hard Disk)"
 Call புதைகருவிகளைப்பெறு
 Sleep 1000
 DetailPrint "1 வினாடி தூங்குகிறது..."
 ExpandEnvStrings $COMSPEC "%COMSPEC%"
 ExecShell "" '"$COMSPEC"' '/C if 1==1 "$PLUGINSDIR\dd.exe" if=/dev/zero of=$BootDir\!\$JustISOName\$CasperName bs=1M count=$Casper --progress 2>$PLUGINSDIR\ddlog.txt' SW_HIDE
 Banner::show /set 76 "$CasperName கோப்பை உருவாக்குதல்."
 Banner::getWindow
 Pop $1  
 DetailPrint "$CasperName கோப்பை உருவாக்குதல்: முடிவடையும் வரை முன்னேற்றப் பட்டி நகராது..."
 Call தவமுன்னேற்றம்
 Banner::destroy
DetailPrint "இப்போது ஒரு நிலைத்தன்மை அல்லது எழுதக்கூடிய கோப்பை உருவாக்குதல்" 
DetailPrint "$CasperName கோப்பை வடிவமைத்தல்: முடிவடையும் வரை முன்னேற்றப் பட்டி நகராது. தயவுசெய்து பொருமையாயிறு..." 
Sleep 3000 ; Give the previous dd.exe program time to exit.
DetailPrint "Sleeping for 3 seconds..."
nsExec::ExecToLog '"$PLUGINSDIR\mke2fs.exe" -L $CasperName $BootDir\!\$JustISOName\$CasperName'
;CopyFiles $PLUGINSDIR\$CasperName "$BootDir\!\$JustISOName\$CasperName" ; Copy casper-rw to USB
;Delete "$PLUGINSDIR\$CasperName"
${EndIf}
FunctionEnd

Function புதையல்அளவு
 IntOp $SizeOfCasper $SizeOfCasper + $Casper
FunctionEnd

Function புதைகருவிகளைப்பெறு
SetShellVarContext all
InitPluginsDir
File /oname=$PLUGINSDIR\dd.exe "இருமங்கள்\தரவுவரையறை.exe"
File /oname=$PLUGINSDIR\mke2fs.exe "இருமங்கள்\நீட்2கோமுவடிவஉரு.exe"
FunctionEnd